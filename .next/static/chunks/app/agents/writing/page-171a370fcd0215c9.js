(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{6419:(e,n,t)=>{Promise.resolve().then(t.bind(t,3193))},3193:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>k});var s=t(5155),i=t(2115),a=t(2888),r=t(4624);class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}async generateResponse(e,n,t){try{let s=this.genAI.getGenerativeModel({model:(null==t?void 0:t.modelName)||"learnlm-1.5-pro-experimental",...t}),i=n?"".concat(n,"\n\nUser: ").concat(e):e;return(await s.generateContent(i)).response.text()}catch(e){throw console.error("Error generating response:",e),e}}async generateChat(e){try{let n=this.genAI.getGenerativeModel({model:"learnlm-1.5-pro-experimental"}).startChat(),t="";for(let s of e)t=(await n.sendMessage(s.content)).response.text();return t}catch(e){throw console.error("Error in chat generation:",e),e}}constructor(){let e="AIzaSyAQ3PJQLvuTKaw-fKEfnINCDJ2uvsv-jiQ";if(!e)throw Error("Missing NEXT_PUBLIC_GEMINI_API_KEY environment variable");this.genAI=new r.ij(e)}}let c=o.getInstance();var l=t(9749),p=t(3312),d=t(3900),u=t(1567),g=t(3550),m=t(6246),h=t(9173);let v=function(e){let{agentType:n,systemInstruction:t,templatePrompt:r,sessionId:o,customConfig:v}=e,[f,x]=(0,i.useState)([]),[y,b]=(0,i.useState)(""),[k,T]=(0,i.useState)(!1),[w,S]=(0,i.useState)(!1),[j,P]=(0,i.useState)(!1),[_,E]=(0,i.useState)({sessionId:o||"",timestamp:new Date,duration:0,energyScore:{engagement:85,comprehension:80,progress:70,confidence:75},performance:{taskResponse:6.5,coherenceCohesion:6,lexicalResource:6.5,grammaticalRange:6},learningProgress:{completedObjectives:[],masteredConcepts:[],areasForImprovement:[],recommendedNextSteps:[]},interactionMetrics:{totalQuestions:0,questionsAnswered:0,averageResponseTime:0,clarificationRequests:0},adaptivityMetrics:{difficultyAdjustments:0,conceptRevisits:0,alternativeExplanations:0,customizedExamples:0},feedback:{strengthPoints:[],improvementAreas:[],bandScoreEstimate:6,confidenceLevel:75}}),A=(0,i.useRef)(null),I=()=>{var e;null===(e=A.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,i.useEffect)(()=>{I()},[f]),(0,i.useEffect)(()=>{P(!0)},[]),(0,i.useEffect)(()=>{j&&r&&o&&x([{role:"assistant",content:r,timestamp:new Date,contentType:"text"}])},[j,r,o]);let N=(e,n)=>{E(e=>({...e,interactionMetrics:{...e.interactionMetrics,totalQuestions:e.interactionMetrics.totalQuestions+1,questionsAnswered:e.interactionMetrics.questionsAnswered+1},energyScore:{...e.energyScore,progress:Math.min(100,e.energyScore.progress+5)}}))},C=async e=>{if(e.preventDefault(),!y.trim()||k)return;let n={role:"user",content:y.trim(),timestamp:new Date,contentType:"text"};x(e=>[...e,n]),b(""),T(!0);try{let e=await c.generateResponse(y.trim(),r?"".concat(t,"\n\nTemplate Context:\n").concat(r):t,v),n={role:"assistant",content:e,timestamp:new Date,contentType:"text"};x(e=>[...e,n]),N(y.trim(),e)}catch(n){console.error("Error generating response:",n);let e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date,contentType:"text"};x(n=>[...n,e])}finally{T(!1)}};return j?(0,s.jsxs)("div",{className:"flex h-[calc(100vh-4rem)]",children:[(0,s.jsxs)("div",{className:"flex-1 flex flex-col max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.map((e,n)=>(0,s.jsx)("div",{className:(0,u.cn)("max-w-3xl mx-auto p-4 rounded-lg","user"===e.role?"ml-auto bg-blue-500 text-white":"bg-white shadow-md"),children:(0,s.jsx)(g.o,{remarkPlugins:[m.A],children:e.content})},n)),k&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-slate-500 max-w-3xl mx-auto",children:[(0,s.jsx)("span",{children:"AI đang suy nghĩ"}),(0,s.jsx)("div",{className:"animate-pulse",children:"..."})]}),(0,s.jsx)("div",{ref:A})]}),(0,s.jsx)("div",{className:"p-4 border-t max-w-3xl mx-auto w-full",children:(0,s.jsxs)("form",{onSubmit:C,className:"flex space-x-2",children:[(0,s.jsx)(d.p,{value:y,onChange:e=>b(e.target.value),placeholder:"Nhập tin nhắn của bạn...",disabled:k,className:"flex-1"}),(0,s.jsx)(p.$,{type:"submit",disabled:k,children:(0,s.jsx)(a.kGk,{className:"h-5 w-5"})})]})})]}),(0,s.jsx)("div",{className:"w-80 border-l bg-slate-50 overflow-y-auto p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(l.Zp,{children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"Năng lượng học tập"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"Mức độ tập trung"}),(0,s.jsx)(h.k,{value:_.energyScore.engagement,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-right mt-1",children:[_.energyScore.engagement,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"Mức độ hiểu b\xe0i"}),(0,s.jsx)(h.k,{value:_.energyScore.comprehension,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-right mt-1",children:[_.energyScore.comprehension,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"Tiến độ"}),(0,s.jsx)(h.k,{value:_.energyScore.progress,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-right mt-1",children:[_.energyScore.progress,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"Độ tự tin"}),(0,s.jsx)(h.k,{value:_.energyScore.confidence,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-right mt-1",children:[_.energyScore.confidence,"%"]})]})]})]})}),(0,s.jsx)(l.Zp,{children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"Điểm số IELTS"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Task Response"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.performance.taskResponse})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Coherence"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.performance.coherenceCohesion})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Lexical"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.performance.lexicalResource})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Grammar"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.performance.grammaticalRange})]})]})]})}),(0,s.jsx)(l.Zp,{children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"Thống k\xea tương t\xe1c"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Số c\xe2u hỏi"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.interactionMetrics.totalQuestions})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Đ\xe3 trả lời"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.interactionMetrics.questionsAnswered})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Thời gian TB"}),(0,s.jsxs)("p",{className:"text-lg font-medium",children:[Math.round(_.interactionMetrics.averageResponseTime/1e3),"s"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Y\xeau cầu l\xe0m r\xf5"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:_.interactionMetrics.clarificationRequests})]})]})]})})]})})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:"Loading..."})},f="\n**Response Parameters**:\nMust all the time, prioritize reponding to match the users' actual speech. Not all speech is for marking or giving feedback. \n- Maximum response length: 2500 tokens\n- Focus on concise, clear explanations\n- Prioritize essential feedback\n- Break long responses into multiple messages\n- Use bullet points for better readability\n\n**Adaptive Learning Framework**:\n1. Session Personalization:\n   - Assess initial English proficiency level\n   - Identify specific IELTS goals and target band\n   - Understand preferred learning style\n   - Adapt language (English/Vietnamese) based on comfort\n\n2. Dynamic Engagement:\n   - Maintain active dialogue through targeted questions\n   - Use Socratic method for deeper understanding\n   - Provide instant, constructive feedback\n   - Celebrate progress and achievements\n   - Switch between languages strategically\n\n3. Context Retention:\n   - Summarize key points after each major concept\n   - Reference previous learning points in new contexts\n   - Create connections between related topics\n   - Build on existing knowledge progressively\n\n4. Progress Monitoring:\n   - Track engagement through response quality\n   - Measure improvement in specific IELTS criteria\n   - Monitor learning energy levels\n   - Adjust difficulty in real-time\n   - Provide bilingual progress updates\n\n5. Cognitive Load Management:\n   - Break complex topics into digestible segments\n   - Introduce new concepts gradually\n   - Use visual aids and examples when needed\n   - Allow processing time between concepts\n   - Ensure understanding before progression\n\n6. Interactive Techniques:\n   - Use role-playing for writing scenarios\n   - Implement guided practice sessions\n   - Provide sample answers with analysis\n   - Encourage self-reflection and correction\n   - Mix Vietnamese explanations with English practice\n\nCore Principles:\n- Maintain continuous, meaningful interaction\n- Adapt language and difficulty dynamically\n- Build connections between concepts\n- Provide regular, constructive feedback\n- Keep engagement high through varied approaches\n- Balance English practice with Vietnamese support\n",x=[{id:"1",title:"Task 2 - Environmental Issues",titleVi:"Task 2 - C\xe1c vấn đề m\xf4i trường",description:"Interactive practice on environmental challenges with adaptive feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về c\xe1c th\xe1ch thức m\xf4i trường với phản hồi th\xedch ứng v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an expert IELTS Writing Tutor specializing in Task 2 environmental essays, with deep understanding of both English and Vietnamese language learning needs.\n\nIMPORTANT: Keep all responses under 2500 tokens. If more explanation is needed:\n1. Break it into multiple shorter messages\n2. Use bullet points and concise language\n3. Focus on the most important points first\n4. Ask if the student wants more details\n\nRole and Approach:\n1. Primary Focus:\n   - Guide students through environmental essay writing\n   - Maintain bilingual support (English/Vietnamese)\n   - Adapt to student's proficiency level\n   - Ensure continuous engagement and progress\n\n2. Teaching Methodology:\n   - Use scaffolded learning approach\n   - Provide targeted feedback on IELTS criteria\n   - Balance theory with practical examples\n   - Maintain active dialogue through questions\n   - Mix Vietnamese explanations with English practice\n\n3. Writing Development:\n   - Help brainstorm environmental topics\n   - Guide essay structure and organization\n   - Focus on academic vocabulary\n   - Develop coherent arguments\n   - Ensure proper example usage\n\n4. Feedback Approach:\n   - Provide instant, constructive feedback\n   - Highlight both strengths and areas for improvement\n   - Use specific examples to illustrate points\n   - Maintain encouraging tone\n   - Give feedback in preferred language\n\n5. Progress Tracking:\n   - Monitor writing improvement\n   - Track vocabulary development\n   - Assess argument coherence\n   - Measure task achievement\n   - Provide regular progress updates\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Environmental Issues\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down environmental topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["task_response","coherence_cohesion","lexical_resource","grammatical_range"],topics:["environment","climate_change","pollution","sustainability"],tags:["academic","essay","environment","interactive","adaptive"],objectives:["Develop clear arguments about environmental issues","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"2",title:"Task 1 - Data Analysis",titleVi:"Task 1 - Ph\xe2n t\xedch dữ liệu",description:"Interactive practice on data analysis with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về ph\xe2n t\xedch dữ liệu với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 1 data analysis.\n\n".concat(f,"\n\nLevel: B1 (CEFR) / Target Band: 5.0-6.0\nTopic: Data Analysis and Interpretation\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down data analysis topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through report planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B1",targetBand:"5.0-6.0",taskType:"task1",criteria:["task_response","lexical_resource"],topics:["data_analysis","academic_writing","statistics"],tags:["graphs","charts","academic","interactive","adaptive"],objectives:["Understand different types of charts and graphs","Identify and describe key trends","Use appropriate data description language","Structure reports logically","Track learning progress and energy","Adapt to individual learning pace"]},{id:"3",title:"Advanced Grammar Practice",titleVi:"Luyện tập ngữ ph\xe1p n\xe2ng cao",description:"Interactive practice on advanced grammar with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về ngữ ph\xe1p n\xe2ng cao với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in advanced grammar.\n\n".concat(f,"\n\nLevel: C1 (CEFR) / Target Band: 7.0-8.0\nTopic: Advanced Grammar and Sentence Structure\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down advanced grammar topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"C1",targetBand:"7.0-8.0",taskType:"task2",criteria:["grammatical_range","coherence_cohesion"],topics:["grammar","sentence_structure","academic_writing"],tags:["advanced","grammar","academic","interactive","adaptive"],objectives:["Master complex grammatical structures","Improve sentence variety and sophistication","Use advanced tenses and forms correctly","Enhance writing style through grammar","Track learning progress and energy","Adapt to individual learning pace"]},{id:"4",title:"Vocabulary Enhancement",titleVi:"Tăng cường từ vựng",description:"Interactive practice on vocabulary enhancement with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về tăng cường từ vựng với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor focusing on vocabulary enhancement.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Vocabulary Development\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down vocabulary topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["lexical_resource"],topics:["vocabulary","academic_writing"],tags:["vocabulary","academic","interactive","adaptive"],objectives:["Learn topic-specific vocabulary","Use academic phrases and expressions effectively","Improve word choice and accuracy","Enhance writing style through vocabulary","Track learning progress and energy","Adapt to individual learning pace"]},{id:"5",title:"Task 2 - Education Topics",titleVi:"Task 2 - Chủ đề gi\xe1o dục",description:"Interactive practice on education topics with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về chủ đề gi\xe1o dục với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 2 education essays.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Education Issues\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down education topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["task_response","coherence_cohesion","lexical_resource","grammatical_range"],topics:["education","academic_systems"],tags:["education","essay","interactive","adaptive"],objectives:["Develop clear arguments about education issues","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"6",title:"Task 1 - Process Diagrams",titleVi:"Task 1 - Sơ đồ qu\xe1 tr\xecnh",description:"Interactive practice on process diagrams with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về sơ đồ qu\xe1 tr\xecnh với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 1 process diagrams.\n\n".concat(f,"\n\nLevel: B1 (CEFR) / Target Band: 5.0-6.0\nTopic: Process Description\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down process topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through report planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B1",targetBand:"5.0-6.0",taskType:"task1",criteria:["task_response","lexical_resource"],topics:["processes","technical_writing"],tags:["diagrams","technical","interactive","adaptive"],objectives:["Understand different types of processes","Identify and describe key stages","Use appropriate process description language","Structure reports logically","Track learning progress and energy","Adapt to individual learning pace"]},{id:"7",title:"Coherence & Cohesion Focus",titleVi:"Tập trung v\xe0o t\xednh nhất qu\xe1n v\xe0 gắn kết",description:"Interactive practice on coherence and cohesion with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về t\xednh nhất qu\xe1n v\xe0 gắn kết với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor focusing on coherence and cohesion.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Essay Organization\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down coherence and cohesion topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["coherence_cohesion"],topics:["essay_structure","organization"],tags:["organization","coherence","interactive","adaptive"],objectives:["Improve essay structure and organization","Use cohesive devices effectively","Enhance paragraph linking","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"8",title:"Task 2 - Technology Impact",titleVi:"Task 2 - T\xe1c động của c\xf4ng nghệ",description:"Interactive practice on technology impact with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về t\xe1c động của c\xf4ng nghệ với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 2 technology essays.\n\n".concat(f,"\n\nLevel: C1 (CEFR) / Target Band: 7.0-8.0\nTopic: Technology Impact\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down technology topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"C1",targetBand:"7.0-8.0",taskType:"task2",criteria:["task_response","lexical_resource"],topics:["technology","society"],tags:["technology","modern","interactive","adaptive"],objectives:["Develop clear arguments about technology issues","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"9",title:"Beginner Essay Structure",titleVi:"Cấu tr\xfac b\xe0i viết d\xe0nh cho người mới bắt đầu",description:"Interactive practice on beginner essay structure with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về cấu tr\xfac b\xe0i viết d\xe0nh cho người mới bắt đầu với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor helping beginners with basic essay structure.\n\n".concat(f,"\n\nLevel: A2 (CEFR) / Target Band: 4.0-5.0\nTopic: Essay Basics\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down essay basics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"A2",targetBand:"4.0-5.0",taskType:"task2",criteria:["task_response","coherence_cohesion"],topics:["essay_basics","writing_fundamentals"],tags:["beginner","basics","interactive","adaptive"],objectives:["Understand basic essay components","Use simple linking words effectively","Structure essays logically","Support arguments with basic examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"10",title:"Task 1 - Map Changes",titleVi:"Task 1 - Thay đổi tr\xean bản đồ",description:"Interactive practice on map changes with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về thay đổi tr\xean bản đồ với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 1 map description.\n\n".concat(f,"\n\nLevel: B1 (CEFR) / Target Band: 5.0-6.0\nTopic: Map Description\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down map topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through report planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B1",targetBand:"5.0-6.0",taskType:"task1",criteria:["task_response","lexical_resource"],topics:["maps","urban_development"],tags:["maps","geography","interactive","adaptive"],objectives:["Understand different types of maps","Identify and describe key changes","Use appropriate map description language","Structure reports logically","Track learning progress and energy","Adapt to individual learning pace"]},{id:"11",title:"Advanced Task Response",titleVi:"Trả lời c\xe2u hỏi n\xe2ng cao",description:"Interactive practice on advanced task response with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về trả lời c\xe2u hỏi n\xe2ng cao với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor helping with complex task response.\n\n".concat(f,"\n\nLevel: C1 (CEFR) / Target Band: 7.0-8.0\nTopic: Task Response\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down complex task response topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"C1",targetBand:"7.0-8.0",taskType:"task2",criteria:["task_response"],topics:["essay_analysis","complex_writing"],tags:["advanced","task_response","interactive","adaptive"],objectives:["Develop clear arguments about complex topics","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"12",title:"Task 2 - Health and Lifestyle",titleVi:"Task 2 - Sức khỏe v\xe0 lối sống",description:"Interactive practice on health and lifestyle with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về sức khỏe v\xe0 lối sống với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 2 health essays.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Health and Lifestyle\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down health and lifestyle topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["task_response","lexical_resource"],topics:["health","lifestyle"],tags:["health","modern_life","interactive","adaptive"],objectives:["Develop clear arguments about health issues","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"13",title:"Task 1 - Multiple Charts",titleVi:"Task 1 - Nhiều biểu đồ",description:"Interactive practice on multiple charts with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về nhiều biểu đồ với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 1 multiple chart description.\n\n".concat(f,"\n\nLevel: C1 (CEFR) / Target Band: 7.0-8.0\nTopic: Multiple Chart Description\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down multiple chart topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through report planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"C1",targetBand:"7.0-8.0",taskType:"task1",criteria:["task_response","coherence_cohesion"],topics:["data_comparison","analysis"],tags:["complex_data","comparison","interactive","adaptive"],objectives:["Understand different types of charts","Identify and describe key trends","Use appropriate chart description language","Structure reports logically","Track learning progress and energy","Adapt to individual learning pace"]},{id:"14",title:"Opinion Essay Practice",titleVi:"Luyện tập viết b\xe0i \xfd kiến",description:"Interactive practice on opinion essays with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về viết b\xe0i \xfd kiến với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor focusing on opinion essays.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Opinion Essays\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down opinion topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["task_response","coherence_cohesion"],topics:["opinions","arguments"],tags:["opinion","argument","interactive","adaptive"],objectives:["Develop clear arguments about opinion topics","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"15",title:"Task 1 - Time Series",titleVi:"Task 1 - D\xe3y số thời gian",description:"Interactive practice on time series with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về d\xe3y số thời gian với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 1 time series description.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Time Series Description\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down time series topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through report planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task1",criteria:["task_response","lexical_resource"],topics:["time_series","trends"],tags:["time","trends","interactive","adaptive"],objectives:["Understand different types of time series","Identify and describe key trends","Use appropriate time series vocabulary","Structure reports logically","Track learning progress and energy","Adapt to individual learning pace"]},{id:"16",title:"Problem-Solution Essays",titleVi:"B\xe0i viết giải quyết vấn đề",description:"Interactive practice on problem-solution essays with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về b\xe0i viết giải quyết vấn đề với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor focusing on problem-solution essays.\n\n".concat(f,"\n\nLevel: C1 (CEFR) / Target Band: 7.0-8.0\nTopic: Problem-Solution Essays\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down problem-solution topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"C1",targetBand:"7.0-8.0",taskType:"task2",criteria:["task_response","coherence_cohesion"],topics:["problems","solutions"],tags:["problem-solving","structure","interactive","adaptive"],objectives:["Develop clear arguments about problem-solution topics","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"17",title:"Task 2 - Global Issues",titleVi:"Task 2 - Vấn đề to\xe0n cầu",description:"Interactive practice on global issues with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về vấn đề to\xe0n cầu với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor specializing in Task 2 global issue essays.\n\n".concat(f,"\n\nLevel: C1 (CEFR) / Target Band: 7.0-8.0\nTopic: Global Issues\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down global issue topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"C1",targetBand:"7.0-8.0",taskType:"task2",criteria:["task_response","lexical_resource"],topics:["global_issues","international_relations"],tags:["global","international","interactive","adaptive"],objectives:["Develop clear arguments about global issues","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]},{id:"18",title:"Comparison Essays",titleVi:"B\xe0i viết so s\xe1nh",description:"Interactive practice on comparison essays with real-time feedback and progress tracking.",descriptionVi:"Luyện tập tương t\xe1c về b\xe0i viết so s\xe1nh với phản hồi thời gian thực v\xe0 theo d\xf5i tiến độ.",systemPrompt:"You are an interactive IELTS Writing Tutor focusing on comparison essays.\n\n".concat(f,"\n\nLevel: B2 (CEFR) / Target Band: 6.0-7.0\nTopic: Comparison Essays\n\nSession Structure:\n1. Time Planning:\n   - Ask user's available time (15-90 minutes)\n   - Adjust session depth and number of practice elements\n   - Set clear milestones and expectations\n\n2. Initial Assessment:\n   - Quick diagnostic questions to gauge current understanding\n   - Identify specific areas of focus\n   - Set personalized session goals\n\n3. Topic Exploration:\n   - Break down comparison topics into manageable subtopics\n   - Use varied question types to check understanding\n   - Provide real-world examples and scenarios\n\n4. Writing Practice:\n   - Guide through essay planning\n   - Provide structured feedback on each paragraph\n   - Focus on IELTS criteria with specific examples\n\n5. Progress Tracking:\n   - Regular progress checks\n   - Adaptive difficulty adjustments\n   - Energy level monitoring\n   - Performance metrics tracking\n\n6. Session Conclusion:\n   - Comprehensive progress report\n   - Learning energy metrics\n   - Specific recommendations for improvement\n   - Next session planning\n\nRemember to:\n- Maintain continuous interaction\n- Break down complex topics\n- Vary question types\n- Adapt to user's responses\n- Provide regular progress updates\n- Generate detailed session metrics"),level:"B2",targetBand:"6.0-7.0",taskType:"task2",criteria:["coherence_cohesion","lexical_resource"],topics:["comparison","contrast"],tags:["comparison","analysis","interactive","adaptive"],objectives:["Develop clear arguments about comparison topics","Use topic-specific vocabulary effectively","Structure essays with proper coherence","Support arguments with relevant examples","Track learning progress and energy","Adapt to individual learning pace"]}];var y=t(6046);function b(e){let{onSelectTemplate:n,selectedTemplate:t}=e;(0,y.useRouter)();let[a,r]=(0,i.useState)(1),[o,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{c(!0)},[]);let d=e=>{n(e)},u=6*a,g=x.slice(u-6,u),m=Math.ceil(x.length/6);return o?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>(0,s.jsxs)(l.Zp,{className:"flex flex-col cursor-pointer transition-all hover:shadow-lg ".concat((null==t?void 0:t.id)===e.id?"ring-2 ring-blue-500":""),onClick:()=>d(e),children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:e.titleVi}),(0,s.jsx)(l.BT,{children:e.descriptionVi})]}),(0,s.jsx)(l.Wu,{className:"flex-grow",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-md bg-blue-100 text-blue-700",children:["CEFR ",e.level]}),(0,s.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-md bg-green-100 text-green-700",children:["Band ",e.targetBand]})]}),(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,s.jsx)("strong",{children:"Mục ti\xeau:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.objectives.slice(0,2).map((e,n)=>(0,s.jsx)("li",{className:"text-slate-600",children:e},n)),e.objectives.length>2&&(0,s.jsxs)("li",{className:"text-slate-400",children:["+",e.objectives.length-2," more..."]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.topics.slice(0,3).map(e=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-md bg-slate-100 text-slate-600",children:e.replace("_"," ")},e)),e.topics.length>3&&(0,s.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-md bg-slate-100 text-slate-400",children:["+",e.topics.length-3]})]})]})})]},e.id))}),m>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-6",children:[(0,s.jsx)(p.$,{variant:"outline",size:"sm",onClick:()=>r(e=>Math.max(1,e-1)),disabled:1===a,children:"←"}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:m},(e,n)=>n+1).map(e=>(0,s.jsx)(p.$,{variant:e===a?"default":"outline",size:"sm",onClick:()=>r(e),children:e},e))}),(0,s.jsx)(p.$,{variant:"outline",size:"sm",onClick:()=>r(e=>Math.min(m,e+1)),disabled:a===m,children:"→"})]})]}):null}function k(){let[e,n]=(0,i.useState)(void 0),[t,a]=(0,i.useState)(""),[r,o]=(0,i.useState)(!1);if((0,y.useRouter)(),(0,i.useEffect)(()=>{o(!0)},[]),(0,i.useEffect)(()=>{r&&e&&a("session_".concat(Date.now()))},[r,e]),!r)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsx)("div",{className:"text-lg",children:"Loading..."})});let c='You are an AI tutor designed to help students improve their IELTS Task 2 writing skills. You will interact with students in both English and Vietnamese, ensuring clear and effective communication. Your name is "IELTS Coach."\n\n**Initial Assessment (Entrance Diagnosis):**\n\n1. **Greeting and Introduction (Bilingual):**\n   * **English:** "Hello! I\'m IELTS Coach, your personalized AI tutor for IELTS Task 2 writing. We\'ll start with a short assessment to understand your current writing abilities. This will help me tailor a learning plan specifically for you. Please answer the following questions to the best of your ability."\n   * **Vietnamese:** "Xin ch\xe0o! T\xf4i l\xe0 IELTS Coach, trợ l\xfd AI c\xe1 nh\xe2n của bạn cho b\xe0i viết Task 2 của IELTS. Ch\xfang ta sẽ bắt đầu với một b\xe0i đ\xe1nh gi\xe1 ngắn để hiểu khả năng viết hiện tại của bạn. Điều n\xe0y sẽ gi\xfap t\xf4i điều chỉnh kế hoạch học tập ph\xf9 hợp với bạn. Vui l\xf2ng trả lời c\xe1c c\xe2u hỏi sau theo khả năng tốt nhất của bạn."\n\n2. **Sequential Questioning (One question at a time):**\n   * **Task Response (Vietnamese):** "H\xe3y ph\xe2n t\xedch những nguy\xean nh\xe2n v\xe0 hậu quả của việc \xf4 nhiễm m\xf4i trường ở c\xe1c th\xe0nh phố lớn. Đưa ra c\xe1c giải ph\xe1p khả thi cho vấn đề n\xe0y."\n   * **Task Response (English):** "Discuss the advantages and disadvantages of online learning compared to traditional classroom-based learning."\n   * **Follow-up:** "Can you elaborate on [specific point in student\'s answer]? Can you provide a concrete example to support your argument?"\n\n   * **Coherence and Cohesion (English):** "Reorder the following sentences to form a logical paragraph: [Provide 4-5 jumbled sentences related to a simple topic like daily routines]."\n   * **Coherence and Cohesion (Vietnamese):** "H\xe3y viết lại c\xe2u sau bằng c\xe1ch sử dụng từ nối kh\xe1c m\xe0 kh\xf4ng thay đổi nghĩa."\n\n   * **Lexical Resource (English):** "Describe a person you admire greatly, using a variety of descriptive words and phrases."\n   * **Lexical Resource (Vietnamese):** "Bạn h\xe3y viết một đoạn văn ngắn về tầm quan trọng của gi\xe1o dục đại học trong x\xe3 hội hiện đại."\n\n   * **Grammatical Range and Accuracy (English):** "Write a sentence using the passive voice to describe a recent news event."\n   * **Grammatical Range and Accuracy (Vietnamese):** "H\xe3y sửa lỗi sai trong c\xe2u sau: [Provide a sentence with a common grammatical error]."\n\n3. **Analysis and Feedback:**\n   * Provide a score (1-9) for each criterion\n   * Give specific feedback in both languages\n   * Suggest improvements and resources\n\n**Learning Activities:**\n* Vocabulary building with flashcards\n* Grammar exercises and practice\n* Essay planning and outlining\n* Sample essay analysis\n* Weekly writing assignments\n* Progress tracking and review\n\nRemember to:\n* Be encouraging and supportive\n* Provide specific, actionable feedback\n* Use simple English when explaining complex concepts\n* Give examples when suggesting improvements';return(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"Luyện tập IELTS Writing"}),(0,s.jsx)("p",{className:"text-slate-600 mt-2",children:"Chọn một mẫu b\xe0i tập b\xean dưới để bắt đầu luyện tập với trợ l\xfd AI hoặc chat trực tiếp với Writing Tutor."})]}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.$,{variant:"outline",className:"mb-4",onClick:()=>n(void 0),children:"← Quay lại danh s\xe1ch mẫu"}),(0,s.jsxs)("div",{className:"mb-4 p-4 rounded-lg bg-white/80 backdrop-blur-sm shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff]",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:e.titleVi}),(0,s.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"CEFR Level:"})," ",e.level]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Target Band:"})," ",e.targetBand]}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Mục ti\xeau:"})}),(0,s.jsx)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:e.objectives.map((e,n)=>(0,s.jsx)("li",{children:e},n))})]})]}),(0,s.jsx)(v,{agentType:"writing",systemInstruction:e.systemPrompt||c,templatePrompt:e.description,sessionId:t,customConfig:{temperature:.7,topP:.9,maxOutputTokens:1024}},t)]}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Mẫu b\xe0i tập"}),(0,s.jsx)(b,{onSelectTemplate:e=>{n(e)},selectedTemplate:e})]}),(0,s.jsxs)("div",{className:"mt-8 p-6 rounded-xl bg-white/80 backdrop-blur-sm shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff]",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Chat trực tiếp với Writing Tutor"}),(0,s.jsx)(v,{agentType:"writing",systemInstruction:c,customConfig:{temperature:.7,topP:.9,maxOutputTokens:1024}})]})]})]})}},3312:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var s=t(5155),i=t(2115),a=t(2317),r=t(1027),o=t(1567);let c=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-slate-100 text-slate-900 shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff] active:shadow-[inset_6px_6px_12px_#b8b9be,inset_-6px_-6px_12px_#ffffff] hover:shadow-[4px_4px_8px_#b8b9be,-4px_-4px_8px_#ffffff]",destructive:"bg-red-100 text-red-900 shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff] active:shadow-[inset_6px_6px_12px_#b8b9be,inset_-6px_-6px_12px_#ffffff] hover:shadow-[4px_4px_8px_#b8b9be,-4px_-4px_8px_#ffffff]",outline:"border border-slate-200 bg-slate-100 shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff] active:shadow-[inset_6px_6px_12px_#b8b9be,inset_-6px_-6px_12px_#ffffff] hover:shadow-[4px_4px_8px_#b8b9be,-4px_-4px_8px_#ffffff]",secondary:"bg-slate-200 text-slate-900 shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff] active:shadow-[inset_6px_6px_12px_#b8b9be,inset_-6px_-6px_12px_#ffffff] hover:shadow-[4px_4px_8px_#b8b9be,-4px_-4px_8px_#ffffff]",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-slate-900 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,n)=>{let{className:t,variant:i,size:r,asChild:l=!1,...p}=e,d=l?a.DX:"button";return(0,s.jsx)(d,{className:(0,o.cn)(c({variant:i,size:r,className:t})),ref:n,...p})});l.displayName="Button"},9749:(e,n,t)=>{"use strict";t.d(n,{BT:()=>l,Wu:()=>p,ZB:()=>c,Zp:()=>r,aR:()=>o});var s=t(5155),i=t(2115),a=t(1567);let r=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...i})});r.displayName="Card";let o=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...i})});o.displayName="CardHeader";let c=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,s.jsx)("h3",{ref:n,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...i})});c.displayName="CardTitle";let l=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,s.jsx)("p",{ref:n,className:(0,a.cn)("text-sm text-muted-foreground",t),...i})});l.displayName="CardDescription";let p=i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("p-6 pt-0",t),...i})});p.displayName="CardContent",i.forwardRef((e,n)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("flex items-center p-6 pt-0",t),...i})}).displayName="CardFooter"},3900:(e,n,t)=>{"use strict";t.d(n,{p:()=>r});var s=t(5155),i=t(2115),a=t(1567);let r=i.forwardRef((e,n)=>{let{className:t,type:i,...r}=e;return(0,s.jsx)("input",{type:i,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r})});r.displayName="Input"},9173:(e,n,t)=>{"use strict";t.d(n,{k:()=>o});var s=t(5155),i=t(2115),a=t(4681),r=t(1567);let o=i.forwardRef((e,n)=>{let{className:t,value:i,...o}=e;return(0,s.jsx)(a.bL,{ref:n,className:(0,r.cn)("relative h-2 w-full overflow-hidden rounded-full bg-slate-100",t),...o,children:(0,s.jsx)(a.C1,{className:"h-full w-full flex-1 bg-gradient-to-r from-blue-600 to-cyan-500 transition-all",style:{transform:"translateX(-".concat(100-(i||0),"%)")}})})});o.displayName="Progress"},1567:(e,n,t)=>{"use strict";t.d(n,{cn:()=>a});var s=t(3463),i=t(9795);function a(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,i.QP)((0,s.$)(n))}}},e=>{var n=n=>e(e.s=n);e.O(0,[844,365,910,499,441,517,358],()=>n(6419)),_N_E=e.O()}]);